:root {
    --blue:#3b82f6;
    --green:#22c55e;
    --red:#ef4444;
    --amber:#f59e0b;
    --gray:#f3f4f6;
}

body {
    margin:0;
    padding:10px;
    font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;
    background:var(--gray);
    color:#1f2937;
}

.container {
    max-width:520px;
    margin:auto;
}

.page { display:block; }

/* ================= CARDS ================= */
.card {
    background:white;
    padding:15px;
    border-radius:12px;
    box-shadow:0 2px 4px rgba(0,0,0,.08);
    margin-bottom:12px;
}

.main-title { margin-bottom:4px; }
.step-subtitle { font-size:.9rem; color:#6b7280; }

.label-bold {
    font-weight:600;
    font-size:.85rem;
}

/* ================= INPUTS ================= */
.input-modern {
    width:100%;
    padding:8px;
    font-size:16px;
    border:1px solid #d1d5db;
    border-radius:6px;
    box-sizing:border-box;
}

.input-grupal {
    display:flex;
    gap:6px;
}

/* ================= FOOTER NAV ================= */
.footer-nav {
    display:flex;
    gap:10px;
    margin-top:20px;
}

.btn-continue,
.btn-gps-action {
    flex:1;
    padding:14px;
    border:none;
    border-radius:10px;
    font-weight:700;
    color:white;
    background:var(--blue);
}

.btn-back {
    width:40%;
    border:none;
    border-radius:10px;
    background:#9ca3af;
    color:white;
}

.btn-add-trafo {
    width:100%;
    padding:10px;
    border:2px dashed var(--blue);
    background:white;
    color:var(--blue);
    border-radius:10px;
    font-weight:700;
    margin-bottom:15px;
}

/* ================= TRAFO ================= */
.trafo-header {
    color:var(--blue);
    border-bottom:2px solid var(--gray);
    padding-bottom:6px;
}

.grid-tecnico {
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
}

.mini-label {
    font-size:.65rem;
    font-weight:700;
    text-transform:uppercase;
    color:#6b7280;
}

.ensayo-seccion {
    background:#f9fafb;
    border:1px solid #e5e7eb;
    padding:10px;
    border-radius:8px;
    margin-top:10px;
}

.section-tag {
    font-size:.7rem;
    font-weight:800;
    text-transform:uppercase;
    color:#4b5563;
    border-left:3px solid var(--blue);
    padding-left:6px;
    margin-bottom:6px;
}

.elem-row {
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:.75rem;
    background:white;
    border:1px solid #eee;
    border-radius:4px;
    padding:5px 8px;
    margin-bottom:4px;
}

.grid-ensayos {
    display:grid;
    grid-template-columns:repeat(6,1fr);
    gap:4px;
}

.input-mini {
    padding:6px 2px;
    font-size:.75rem;
    text-align:center;
}

.media-box {
    background:#eff6ff;
    font-weight:700;
}

.tabla-aislamiento {
    width:100%;
    font-size:.75rem;
    border-collapse:collapse;
}

.tabla-aislamiento td,
.tabla-aislamiento th {
    padding:4px;
}

/* ================= FIRMA ================= */
.signature-wrapper {
    border:1px solid #d1d5db;
    border-radius:8px;
    background:white;
}

#canvas-firma {
    width:100%;
    height:180px;
    display:block;
    touch-action:none;
}

.btn-clear {
    background:none;
    border:none;
    font-size:.7rem;
    color:#6b7280;
    width:100%;
}

/* =================================================
   CHECKLIST – DISEÑO AMIGABLE (NUEVO)
================================================= */

.fila-at {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    padding:10px 12px;
    border-bottom:1px solid #e5e7eb;
}

.fila-at:last-child {
    border-bottom:none;
}

.pregunta-txt {
    font-size:0.9rem;
    line-height:1.3;
    flex:1;
}

/* ---------- Selector F / X / NA ---------- */
.selector-fna {
    display:flex;
    gap:6px;
}

/* ocultar radios reales */
.selector-fna input[type="radio"] {
    display:none;
}

/* botón base */
.selector-fna label {
    min-width:42px;
    padding:6px 0;
    text-align:center;
    border-radius:999px;
    font-size:0.75rem;
    font-weight:700;
    cursor:pointer;
    border:2px solid #d1d5db;
    background:white;
    color:#374151;
    transition:all 0.15s ease;
}

/* F */
.lbl-f {
    border-color:var(--green);
    color:#166534;
}
input:checked + .lbl-f {
    background:var(--green);
    color:white;
}

/* X */
.lbl-x {
    border-color:var(--red);
    color:#7f1d1d;
}
input:checked + .lbl-x {
    background:var(--red);
    color:white;
}

/* NA */
.lbl-na {
    border-color:var(--amber);
    color:#7c2d12;
}
input:checked + .lbl-na {
    background:var(--amber);
    color:white;
}

/* ---------- TÍTULOS (4.1, 4.2, 4.3, 4.4) ---------- */
.fila-titulo {
    background:#f3f4f6;
    font-size:0.8rem;
    border-left:4px solid var(--blue);
    padding:8px 12px;
}

/* ---------- PROTECCIONES 3.4.x ---------- */
.fila-protecciones {
    background:#f9fafb;
}

/* Hover suave (desktop / tablet) */
.fila-at:hover {
    background:#f9fafb;
}

.card label input[type="checkbox"] {
    margin-right:6px;
    transform:scale(1.2);
}
